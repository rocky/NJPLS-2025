<section>
  <h1>Location inside a container</h1>
  <div align="left">
    <p>In older systems, a position was a line number:

      <pre>
	<code
	  class="hljs ocaml",
	  style="width: 1200px; max-height: 600px;">$ python
Python 3.12.10 (main, Apr 25 2025, 08:59:20) [GCC 13.3.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> x, y = 1, 0
>>> 6 / x / y
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
ZeroDivisionError: float division by zero
	</code>
      </pre>
    </p>
  </div>
  <aside class="notes">
    <p>
      Historically, a location inside a program was a line number. But
      using line numbers is pretty crude.

      I recently gave a lecture in a compiler class showing how to
      beef up the compiler they were writing for the class so that it
      tracked positions. In their compiler, programs could only be one
      line long!

      So to saying that there's an error on line one is basically
      saying there's an error somewhere in the program and is of no
      help.

      Lest you think this rare. Here is an error reported from Python 3.12:
    </p>

    <p>Which divide caused the execption in line 1? No clue given here.
    </p>
    <p>
      I am pleased to report that in Python 3.13 this has been
      corrected, *somewhat*. The line is still reported as line one
      but there is now a cursor on the specific division that caused
      the problem.
    </p>

    <p>
      Why it took over 25 years for Python to address something like
      this is sad. And if you try the same thing in Ruby or
      Perl. You'll get something similar to the pre 3.13 behavior
      where you get a line number with no indication *where* on the
      line, which divide, the problem lies. (Javascript will say the
      computation is Infinity, so I can't compare its behavior using
      this example).
    </p>

    <p>
     Nowadays, the trend in more enlightend compilers is to move to
     the more finer-grained location by giving both line and column
     number (inside a container). This certainly helps in that example
     where one might wonder which of two divides an error is coming
     from.
    </p>

    <p>But more useful is note a position as a range of text from the
    start and end position. The Jane Street parsing library for
      S-Expressions has this. So let's take a look at this.
      <div style="color: blue; background-color:
		  LightYellow">
	[NEXT] 10.1 ‚ü∂ 11.1
      </div>
    </p>
  </aside>
</section>
